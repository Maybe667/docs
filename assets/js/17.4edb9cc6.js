(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{424:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-知识点-vue模拟v-model实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-知识点-vue模拟v-model实现"}},[t._v("#")]),t._v(" 1.知识点_vue模拟v-model实现")]),t._v(" "),s("h3",{attrs:{id:"目标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("探究v-model到底如何实现的双向数据绑定")])]),t._v(" "),s("h3",{attrs:{id:"步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("新建src/components/Add组件, 准备实现双向数据绑定")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("子组件库存: {{ value }}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("addFn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("增加+1"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addFn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])])])]),t._v(" "),s("li",[s("p",[t._v("在App.vue, 准备变量传入组件中")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("父组件库存: {{ count }}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("hr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('\x3c!-- <AddBtn :value="count" @input="val => count = val"></AddBtn> --\x3e')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("AddBtn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("AddBtn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" AddBtn "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/components/Add'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("components")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    AddBtn\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"小结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("v-model实际上实现的是什么?\n"),s("ul",[s("li",[t._v("向标签内的value属性赋值")]),t._v(" "),s("li",[t._v("给标签绑定input事件, 并把收到的值, 赋予给vue变量")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("原生JS又如何才能实现同样效果呢? https://www.bilibili.com/video/BV1wL411W7KQ 可以看这里哦")])]),t._v(" "),s("h2",{attrs:{id:"_2-知识点-restful-api规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-知识点-restful-api规范"}},[t._v("#")]),t._v(" 2.知识点_RestFul API规范")]),t._v(" "),s("h3",{attrs:{id:"目标-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-2"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("了解什么是RestFulAPI规范")])]),t._v(" "),s("h3",{attrs:{id:"讲解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#讲解"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// RestFul API规范")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 规范(可遵守, 可不遵守, 尽量遵守)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 规定了 后台的url接口地址风格")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 具体: 相同url路径, 不同的请求方式, 代表不同动作")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 以前接口样子: 杂乱无章")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /v1_0/likingcomment")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /v1_0/dislikingcomment")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /v1_0/delcomment")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 有规范接口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /api/book       --- GET      获取所有图书")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /api/book/:id   --- GET      获取指定图片信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /api/book       --- POST     添加图书")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /api/book/:id   --- PUT      修改图书信息(全部)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /api/book/:id   --- PATCH    修改图书信息(部分)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /api/book/:id   --- DELETE   删除图书")]),t._v("\n")])])]),s("h3",{attrs:{id:"小结-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-2"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("什么是RestFul 接口规范?")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("他叫表现层状态转化")])]),t._v(" "),s("li",[s("p",[t._v("相同的路径, 不同的请求方式, 代表不同的动作")])])])])]),t._v(" "),s("h2",{attrs:{id:"_3-知识点-vuecli开发环境-做代理服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-知识点-vuecli开发环境-做代理服务器"}},[t._v("#")]),t._v(" 3.知识点_vuecli开发环境-做代理服务器")]),t._v(" "),s("h3",{attrs:{id:"目标-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-3"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("回顾什么是跨域")]),t._v(" "),s("li",[t._v("跨域的几种解决方案是什么")])]),t._v(" "),s("h3",{attrs:{id:"回顾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#回顾"}},[t._v("#")]),t._v(" 回顾")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("什么是跨域:")]),t._v(" "),s("ul",[s("li",[t._v("网页所在url的"),s("strong",[t._v("协议")]),t._v(", "),s("strong",[t._v("域名")]),t._v(", "),s("strong",[t._v("端口号")]),t._v(", 和Ajax请求url的"),s("strong",[t._v("协议")]),t._v(", "),s("strong",[t._v("域名")]),t._v(", "),s("strong",[t._v("端口号")]),t._v("有一个对应不上, 就发生跨域")]),t._v(" "),s("li",[t._v("跨域是浏览器对ajax做出的限制")])])]),t._v(" "),s("li",[s("p",[t._v("演示用axios请求网易新闻地址, 发现跨域报错")]),t._v(" "),s("div",{staticClass:"language-url extra-class"},[s("pre",{pre:!0,attrs:{class:"language-url"}},[s("code",[s("span",{pre:!0,attrs:{class:"token scheme"}},[t._v("http"),s("span",{pre:!0,attrs:{class:"token scheme-delimiter"}},[t._v(":")])]),s("span",{pre:!0,attrs:{class:"token authority"}},[s("span",{pre:!0,attrs:{class:"token authority-delimiter"}},[t._v("//")]),s("span",{pre:!0,attrs:{class:"token host"}},[t._v("c.m.163.com")])]),s("span",{pre:!0,attrs:{class:"token path"}},[s("span",{pre:!0,attrs:{class:"token path-separator"}},[t._v("/")]),t._v("nc"),s("span",{pre:!0,attrs:{class:"token path-separator"}},[t._v("/")]),t._v("article"),s("span",{pre:!0,attrs:{class:"token path-separator"}},[t._v("/")]),t._v("headline"),s("span",{pre:!0,attrs:{class:"token path-separator"}},[t._v("/")]),t._v("T1348647853363"),s("span",{pre:!0,attrs:{class:"token path-separator"}},[t._v("/")]),t._v("0-40.html")]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"jsonp方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jsonp方式"}},[t._v("#")]),t._v(" jsonp方式")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("需要前端和后端同时支持")]),t._v(" "),s("blockquote",[s("p",[t._v("前端用script+src属性, 发送函数名给后台, 同时准备好同名的函数, 准备接收数据")]),t._v(" "),s("p",[t._v("后端返回的字符串一定用方法名(数据字符串)格式返回, 到script标签中执行")]),t._v(" "),s("p",[t._v("调用函数名, 并传递数据")])])]),t._v(" "),s("li",[s("p",[t._v("例子代码(看看就行, 不用尝试)")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callBackFn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// data就是\'{"a": 10, "b": 20}\'')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://后台接口地址?callback=callBackFn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('\x3c!-- 后台接口返回 \'callBackFn({"a": 10, "b": 20})\' --\x3e')]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"cors方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cors方式"}},[t._v("#")]),t._v(" cors方式")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("前端什么也不用做")])]),t._v(" "),s("li",[s("p",[t._v("后端需要开启cors")]),t._v(" "),s("blockquote",[s("p",[t._v("实际上就是在响应头添加允许跨域的源")]),t._v(" "),s("p",[t._v("Access-Control-Allow-Origin: 字段和值(意思就是允许去哪些源地址去请求这个服务器)")])])])]),t._v(" "),s("h3",{attrs:{id:"代理转发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代理转发"}},[t._v("#")]),t._v(" 代理转发")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("如果后端jsonp也不弄, cors也不弄, 就给你个接口地址")]),t._v(" "),s("blockquote",[s("p",[t._v("我们可以在本地弄个服务器, 然后用服务器请求后台服务器接口地址")])]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713101347826.png",alt:"image-20210713101347826"}})])]),t._v(" "),s("li",[s("p",[t._v("但是vuecli脚手架, 启动了一个webpack开发服务器, 它就能做代理转发")]),t._v(" "),s("ul",[s("li",[t._v("而且前端和这个服务器是同源的都是8080端口")])])]),t._v(" "),s("li",[s("p",[t._v("需要修改webpack开发服务器的配置即可")]),t._v(" "),s("blockquote",[s("p",[t._v("更多配置项参考这里: https://webpack.docschina.org/configuration/dev-server/#devserverproxy")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("devServer")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("proxy")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// http://c.m.163.com/nc/article/headline/T1348647853363/0-40.html")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'/api'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求相对路径以/api开头的, 才会走这里的配置")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("target")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://c.m.163.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 后台接口域名")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("changeOrigin")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 改变请求来源(欺骗后台你的请求是从http://c.m.163.com)")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pathRewrite")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'^/api'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 因为真实路径中并没有/api这段, 所以要去掉这段才能拼接正确地址转发请求")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("axios请求的代码")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("axios")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/nc/article/headline/T1348647853363/0-40.html'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"小结-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-3"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("跨域几种解决方案?\n"),s("ul",[s("li",[t._v("jsonp / cors / 代理转发")])])]),t._v(" "),s("li",[t._v("vuecli环境如何设置代理转发?\n"),s("ul",[s("li",[t._v("在vue.config.js - 添加规则和配置")])])])]),t._v(" "),s("h2",{attrs:{id:"_4-知识点-发布工具包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-知识点-发布工具包"}},[t._v("#")]),t._v(" 4.知识点_发布工具包")]),t._v(" "),s("h3",{attrs:{id:"目标-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-4"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("一个项目下来, 自己用原生js, 封装了些工具")]),t._v(" "),s("li",[t._v("发布这些工具到npm网站")]),t._v(" "),s("li",[t._v("以后换电脑, 直接npm/yarn下载即可")])]),t._v(" "),s("h3",{attrs:{id:"步骤-准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤-准备"}},[t._v("#")]),t._v(" 步骤-准备")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("新建文件夹, 并初始化包环境npm init")]),t._v(" "),s("blockquote",[s("p",[t._v("得到package.json文件")])]),t._v(" "),s("p",[t._v("重要: ==包名, 入口==")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713104010973.png",alt:"image-20210713104010973"}})])]),t._v(" "),s("li",[s("p",[t._v("把要发布的js文件拿过来")]),t._v(" "),s("blockquote",[s("p",[t._v("基于原生js的最好, 任何项目通用的代码, 都可以")])]),t._v(" "),s("ul",[s("li",[t._v("date.js里基于dayjs的")]),t._v(" "),s("li",[t._v("directives.js里基于vue的")])]),t._v(" "),s("blockquote",[s("p",[t._v("下载包, npm install dayjs vue")])]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713104436177.png",alt:"image-20210713104436177"}})])]),t._v(" "),s("li",[s("p",[t._v("创建index.js(package.json记录入口文件名字统一), 然后把其他模块的方法统一导入并导出")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 包的唯一出口")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./date'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 基于dayjs的时间处理")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./directives'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 基于vue的自定义指令")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./storage'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原生js封装storage存储")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./str'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原生js封装字符串高亮")]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"步骤-发布"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤-发布"}},[t._v("#")]),t._v(" 步骤-发布")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("切换本机npm镜像地址")]),t._v(" "),s("blockquote",[s("p",[t._v("注意npm镜像笔记切换到原来的才能发布工具包")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("npm config "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" registry"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("registry.npmjs.org")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("查看npm镜像地址命令:  npm config get registry")])])]),t._v(" "),s("li",[s("p",[t._v("去https://www.npmjs.com/ 这个网站注册账号")]),t._v(" "),s("blockquote",[s("p",[t._v("一定要用能登录上去的邮箱")]),t._v(" "),s("p",[t._v("一定要去邮箱里有一封验证, 点击链接激活")]),t._v(" "),s("p",[t._v("一定切记账号和密码和邮箱, 发布包使用")])])]),t._v(" "),s("li",[s("p",[t._v("在发布包的文件夹下cmd终端")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("命令: npm login")]),t._v(" "),s("blockquote",[s("p",[t._v("作用: 建立登录链接")]),t._v(" "),s("p",[t._v("输入上一步注册的账号和密码和邮箱")]),t._v(" "),s("p",[t._v("终端为了防止密码被偷窥, 不会提示, 但实际上已经输入进去了")])])]),t._v(" "),s("li",[s("p",[t._v("命令: npm publish")]),t._v(" "),s("blockquote",[s("p",[t._v("作用: 发布所在文件夹这个包上去")])]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713105506542.png",alt:"image-20210713105506542"}})]),t._v(" "),s("p",[t._v("出现这个图就代表成功了, 如果报错请到这里查看报错解决方案:")]),t._v(" "),s("p",[t._v("http://lidongxuwork.gitee.io/error/")])])])])]),t._v(" "),s("h3",{attrs:{id:"验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[t._v("#")]),t._v(" 验证")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("去npmjs网站查看")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/%E5%8F%91%E5%B8%83%E5%8C%85%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F.gif",alt:"发布包是否成功"}})])]),t._v(" "),s("li",[s("p",[t._v("也可以到任何一个地方, 用npm / yarn 下载刚才你发布的包名")]),t._v(" "),s("blockquote",[s("p",[t._v("这样全世界的程序员都可以下你的包了, 快去让你同桌小伙伴下载试试吧")])])])]),t._v(" "),s("h3",{attrs:{id:"小结-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-4"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("为何要发布包?\n"),s("ul",[s("li",[t._v("可以提高自己知名度, 方便下个项目直接下载使用")])])]),t._v(" "),s("li",[t._v("如果以后更新了, 重新发布?\n"),s("ul",[s("li",[t._v("把js文件放到本地包文件夹里, 在index.js统一导出")]),t._v(" "),s("li",[t._v("把package.json的版本向前改(因为每个版本号只能用一次)")])])])]),t._v(" "),s("h3",{attrs:{id:"扩展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扩展"}},[t._v("#")]),t._v(" 扩展")]),t._v(" "),s("p",[t._v("包开发环境和生产环境到底有什么区别?")]),t._v(" "),s("blockquote",[s("p",[t._v("可以看这里: https://www.bilibili.com/video/BV15M4y1u78F")])]),t._v(" "),s("h2",{attrs:{id:"_5-知识点-删除工具包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-知识点-删除工具包"}},[t._v("#")]),t._v(" 5.知识点_删除工具包")]),t._v(" "),s("h3",{attrs:{id:"目标-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-5"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("如果感觉名字不好想删除")])]),t._v(" "),s("h3",{attrs:{id:"步骤-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),s("blockquote",[s("p",[t._v("重点警告: 如果你的包已经被很多人使用了, 你删除后, 别人无法再下载")])]),t._v(" "),s("ol",[s("li",[s("p",[t._v("运行npm unpublish命名")]),t._v(" "),s("blockquote",[s("p",[t._v("npm unpublish 包名 --force")]),t._v(" "),s("p",[t._v("这里我随便找个"),s("strong",[t._v("我自己的")]),t._v("包删除")])]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713110340404.png",alt:"image-20210713110340404"}})])]),t._v(" "),s("li",[s("p",[t._v("但是要注意")]),t._v(" "),s("ul",[s("li",[t._v("再次发布的包名或版本, 和刚才发布的不能完全一致")])])])]),t._v(" "),s("h3",{attrs:{id:"小结-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-5"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("如何撤销发布的工具包\n"),s("ul",[s("li",[t._v("只能对自己发布的包, 执行npm unpublish命令")])])])]),t._v(" "),s("h2",{attrs:{id:"_6-项目打包-开始"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-项目打包-开始"}},[t._v("#")]),t._v(" 6.项目打包_开始")]),t._v(" "),s("h3",{attrs:{id:"目标-6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-6"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("yarn serve 是启动开发环境的服务器 (编写代码过程查看效果用)")]),t._v(" "),s("li",[t._v("yarn build 也是打包项目代码(但是会输出到dist文件夹下)")])]),t._v(" "),s("h3",{attrs:{id:"分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[t._v("#")]),t._v(" 分析")]),t._v(" "),s("p",[t._v("你可以直接把webpack开发服务器部署到线上服务器, 但是不要那么干. 因为有热更新和转换代码的过程, 慢")]),t._v(" "),s("p",[t._v("建议让webpack打包出dist文件夹, 把dist静态文件夹发给后台/运维, 部署到公司服务器上")]),t._v(" "),s("h3",{attrs:{id:"步骤-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤-3"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("脚手架工程中运行")]),t._v(" "),s("p",[t._v("命令:  "),s("code",[t._v("npm run build")])]),t._v(" "),s("p",[t._v("作用：用vue-cli内部集成的webpack，把.vue,.less.js 等打包成浏览器可直接执行的代码。")]),t._v(" "),s("p",[t._v("结果：会在项目根目录下创建 /dist目录，在这个目录下产出打包后的结果。")]),t._v(" "),s("p",[t._v("讲解: css / js里重点文件讲解")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713111010879.png",alt:"image-20210713111010879"}})]),t._v(" "),s("ul",[s("li",[s("p",[t._v("app.hash值.js ：主入口")])]),t._v(" "),s("li",[s("p",[t._v("app.hash值.js.map: 记录当前的.js文件, 打包之前对应代码位置, 有利于代码出错快速找到源代码的位置。")]),t._v(" "),s("blockquote",[s("p",[t._v("(webpack把所有代码都压缩成一行了, 报错肯定在第一行不方便查找)")])])]),t._v(" "),s("li",[s("p",[t._v("模块名.hash值.js - 模块里写的js代码")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("component: () => import('../views/search/index.vue')")]),t._v("，在打包时，就会生成对应的chunk片段文件")])])]),t._v(" "),s("li",[s("p",[t._v("chunk-vendors：第三方包的代码统一放在这里（dayjs,vue,vuex,vue-router,vant）-只要被webpack构建依赖关系发现的包")])]),t._v(" "),s("li",[s("p",[t._v("chunk-hash值.js: 某个第三方模块对应的js ,某个.vue文件编译之后的.js。")])])])])]),t._v(" "),s("h3",{attrs:{id:"运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[t._v("#")]),t._v(" 运行")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("可以直接用vscode+liveserver插件运行静态网页index.html")]),t._v(" "),s("blockquote",[s("p",[t._v("哇, 可怕的问题来了, 空白页, 悄悄打开控制, 发现全是路径引入报错")]),t._v(" "),s("p",[t._v("仔细一看, 要的都是服务器根目录下的js / css文件夹里的打包的片段文件")])])]),t._v(" "),s("li",[s("p",[t._v("原因: vscode+liveServer插件, 会把vscode打开的根目录当做服务器的根目录, 根目录下并没有js / css文件夹")]),t._v(" "),s("blockquote",[s("p",[t._v("而且服务器也不会把你的dist里代码放到公司线上服务器根目录")])])])]),t._v(" "),s("h3",{attrs:{id:"解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决"}},[t._v("#")]),t._v(" 解决")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("只需要让webpack打包时, 把路径弄成相对路径即可咯")]),t._v(" "),s("p",[t._v("在vue.config.js, 第一次对象里添加配置")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./'")]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"小结-6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-6"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("打包命令是什么?")]),t._v(" "),s("ul",[s("li",[t._v("yarn build  / npm run build")])])]),t._v(" "),s("li",[s("p",[t._v("打包后, 会得到什么?")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("webpack和各种插件加载器, 把代码翻译后, 输出整合到dist文件夹下")]),t._v(" "),s("blockquote",[s("p",[t._v("注意: 这时, dist和开发代码环境一毛钱关系都没有了")])])])])])]),t._v(" "),s("h2",{attrs:{id:"_7-项目打包-跨域问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-项目打包-跨域问题"}},[t._v("#")]),t._v(" 7.项目打包_跨域问题")]),t._v(" "),s("h3",{attrs:{id:"目标-7"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-7"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("为何打包后, 不跨域")])]),t._v(" "),s("h3",{attrs:{id:"分析-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分析-2"}},[t._v("#")]),t._v(" 分析")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("打包后运行在http://localhost:5500")])]),t._v(" "),s("li",[s("p",[t._v("ajax请求的是http://toutiao.itheima.net")]),t._v(" "),s("p",[t._v("按道理来说, 应该跨域了啊")]),t._v(" "),s("p",[t._v("但是, 后台开启了cors, 所以直接请求")])])]),t._v(" "),s("h3",{attrs:{id:"注意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("如果你的后台没开启cors, 你使用webpack开发服务器来做的代理转发")])]),t._v(" "),s("li",[s("p",[t._v("那么打包后, 与webpack开发服务器没关系了")]),t._v(" "),s("p",[t._v("解决: 自己用node+express搭建一个本地服务器开启cors, 并启动")]),t._v(" "),s("p",[t._v("把自己前端的请求基地址改成这个服务器一起部署到线上")])])]),t._v(" "),s("h3",{attrs:{id:"小结-7"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-7"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("如果用webpack开发服务器做代理转发, 一定要注意打包后, 就没关系了, 需要自己准备服务器转发")])]),t._v(" "),s("h2",{attrs:{id:"_8-项目打包-分析-代码高亮-上午结束"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-项目打包-分析-代码高亮-上午结束"}},[t._v("#")]),t._v(" 8.项目打包_分析-代码高亮(上午结束)")]),t._v(" "),s("h3",{attrs:{id:"目标-8"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-8"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("如何优化打包体积")])]),t._v(" "),s("h3",{attrs:{id:"打包结果分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包结果分析"}},[t._v("#")]),t._v(" 打包结果分析")]),t._v(" "),s("blockquote",[s("p",[t._v("vuecli中提供一个打包分析的工具")])]),t._v(" "),s("p",[t._v("命令: yarn build --report")]),t._v(" "),s("p",[t._v("它会在dist目录下产生一个report.html文件，其中就有对打包结果的分析说明")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20200421115927116-1592403958008.png",alt:"image-20200421115927116"}})]),t._v(" "),s("p",[t._v("效果 -  帮助我们分析哪个包的体积过大(针对性优化)")]),t._v(" "),s("blockquote",[s("p",[t._v("例如只用到一个方法的moment / dayjs 可以删除不要, 换成原生js自己写")])]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713112447407.png",alt:"image-20210713112447407"}})]),t._v(" "),s("h3",{attrs:{id:"优化-代码高亮"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优化-代码高亮"}},[t._v("#")]),t._v(" 优化-代码高亮")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("highlight.js体积过大, 可以让后台给代码标签设置好class类名给我返回")]),t._v(" "),s("blockquote",[s("p",[t._v("现在的接口已经弄好了")])])]),t._v(" "),s("li",[s("p",[t._v("所以把main.js, 这段代码删除掉, 我们只要引入对应样式即可")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// import hljs from 'highlight.js'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'highlight.js/styles/default.css'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 代码高亮的样式")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Vue.directive('highlight', function (el) { // 自定义一个代码高亮指令")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  const highlight = el.querySelectorAll('pre, code') // 获取里面所有pre或者code标签")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  highlight.forEach((block) => {")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//    hljs.highlightBlock(block) // 突出显示pre和code内标签, 并自动识别语言, 添加类名和样式")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  })")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//})")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("千万不要忘了, 去文章详情, 把使用的指令删除掉")])]),t._v(" "),s("li",[s("p",[t._v("但是后台没有提前设置类名的pre和code标签就没有了高亮")]),t._v(" "),s("blockquote",[s("p",[t._v("aid=7997 这个文章提前设置了类名, 所以还是ok的")])])]),t._v(" "),s("li",[s("p",[t._v("再次打包观察体积")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713112952550.png",alt:"image-20210713112952550"}})])])]),t._v(" "),s("h3",{attrs:{id:"小结-8"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-8"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("打包分析工具帮助我们找到哪个包体积过大")]),t._v(" "),s("blockquote",[s("p",[t._v("如果有体积庞大的, 想想针对性的优化 / 换一个工具包使用")])])])]),t._v(" "),s("h2",{attrs:{id:"_9-项目打包-分析优化-moment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-项目打包-分析优化-moment"}},[t._v("#")]),t._v(" 9.项目打包_分析优化-moment")]),t._v(" "),s("h3",{attrs:{id:"目标-9"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-9"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("moment就用了一个格式化时间")])]),t._v(" "),s("h3",{attrs:{id:"解决-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决-2"}},[t._v("#")]),t._v(" 解决")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("所以我们只用了其中一个功能, 但是webpack把整个包都打包进dist下了")])]),t._v(" "),s("li",[s("p",[t._v("所以我们可以自己用原生js实现, 格式化时间, 卸载moment包")]),t._v(" "),s("blockquote",[s("p",[t._v("yarn remove moment")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 时间选择")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("confirmFn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(this.currentDate instanceof Date)")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.currentDate里值是日期对象")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 但是后台要"年-月-日"格式字符串参数值')]),t._v("\n\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" year "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFullYear")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" month "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMonth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" day "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    month "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" month "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" month "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" month\n    day "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" day "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" day "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" day\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dateStr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("year"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("month"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("day"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateProfileAPI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("birthday")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" dateStr\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 前端页面同步")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("profile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("birthday "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dateStr\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 时间选择器关闭")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isShowBirth "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("再次打包观察dist文件夹体积大小")]),t._v(" "),s("blockquote",[s("p",[t._v("观察报告, 最大的就是vue源码了, 那就没什么可以优化的了")])])])]),t._v(" "),s("h3",{attrs:{id:"小结-9"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-9"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("moment作用?\n"),s("ul",[s("li",[t._v("格式化时间的, 我们也可以用原生js自己来写, 这样不用打包太多没用的代码")])])])]),t._v(" "),s("h2",{attrs:{id:"_10-项目打包-优化-去掉打印"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-项目打包-优化-去掉打印"}},[t._v("#")]),t._v(" 10.项目打包_优化-去掉打印")]),t._v(" "),s("h3",{attrs:{id:"目标-10"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-10"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("上线后想让所有打印失效")])]),t._v(" "),s("h3",{attrs:{id:"分析-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分析-3"}},[t._v("#")]),t._v(" 分析")]),t._v(" "),s("ol",[s("li",[t._v("如果自己删除, 那开发还得加回来, 注释也一样啊, 麻烦")]),t._v(" "),s("li",[t._v("能否配置环境变量, 让代码自己来判断呢")]),t._v(" "),s("li",[t._v("先在项目 根目录下配置文件(脚手架环境变量)")])]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210407161643389.png",alt:"image-20210407161643389"}})]),t._v(" "),s("ul",[s("li",[s("p",[t._v("在.env.development (开发环境变量)")]),t._v(" "),s("blockquote",[s("p",[t._v("NODE_ENV 变量名随便起, 值不用加引号就是字符串了")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("development\n")])])])]),t._v(" "),s("li",[s("p",[t._v("在.env.production (生产上线环境变量)")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("production\n")])])])])]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[s("p",[t._v("在main.js里加入如下配置")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// process是Node环境全部变量, 运行时根据敲击的命令不同, 脚手架会取环境变量给env添加属性和值")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("log")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("error")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("dir")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"小结-10"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-10"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("我们可以在这2个文件里定义不同的属性和值, 来区分线上和线下环境不同的值")]),t._v(" "),s("li",[t._v("而且可以让代码自适应在不同环境, 自动选择对应值来使用")])]),t._v(" "),s("h2",{attrs:{id:"_11-项目部署-gitee"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-项目部署-gitee"}},[t._v("#")]),t._v(" 11.项目部署-gitee")]),t._v(" "),s("h3",{attrs:{id:"目标-11"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-11"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("部署项目, 得到一个全网可用的url地址")]),t._v(" "),s("blockquote",[s("p",[t._v("例如: https://lidongxuwork.gitee.io/")])])])]),t._v(" "),s("h3",{attrs:{id:"步骤-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤-4"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),s("ol",[s("li",[t._v("gitee注册账号(有了就忽略这步)")]),t._v(" "),s("li",[t._v("新建仓库(空的, ReadME也不要)")]),t._v(" "),s("li",[t._v("把dist推送到这个新的仓库上 (开发是一个仓库, 部署是另外一个了)")]),t._v(" "),s("li",[t._v("启动gitee提供的page服务 (注意路径会自动找index.html文件来访问给用户看)")]),t._v(" "),s("li",[t._v("如果以后代码更新, 要在本地重新打包, 然后重新推到gitee仓库, 还必须更新重启page服务才能生效)")])]),t._v(" "),s("h3",{attrs:{id:"小结-11"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-11"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("部署项目, 为了得到一个url地址, 可以在公网中, 大家都可以访问你做的项目")])]),t._v(" "),s("h2",{attrs:{id:"_12-项目部署-公司自己服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-项目部署-公司自己服务器"}},[t._v("#")]),t._v(" 12.项目部署-公司自己服务器")]),t._v(" "),s("h3",{attrs:{id:"目标-12"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-12"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("创建一个web服务(如果后端有java/其他, 就把dist文件夹发给后台吧)")]),t._v(" "),s("li",[t._v("把整个web服务器+dist, 部署到公司自己服务器")])]),t._v(" "),s("h3",{attrs:{id:"步骤-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤-5"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("先创建一个本地的服务(用nodejs+express+静态资源文件夹)")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入 express 模块")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建 express 的服务器实例")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. 将 dist 目录托管为静态资源服务器")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("express"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("static")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dist'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用 app.listen 方法，指定端口号并启动web服务器")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Express server running at http://127.0.0.1:3001'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("在本地访问测试下, 是否可以正确打开vue打包项目页面, ok了再继续下面的")])]),t._v(" "),s("li",[s("p",[t._v("阿里云, 百度云, 腾讯云选择某一家的即可 (尽量赶上过节再去买)")])]),t._v(" "),s("li",[s("p",[t._v("然后购买线上的云服务器 (学生应该什么时候都便宜)  一人打100kb左右计算 (可以预估同时能支持多少人访问) 根据业务选择多大带宽的服务器 (如果就自己玩 越低越好, 越便宜越好)")])]),t._v(" "),s("li",[s("p",[t._v("选择系统可以选择windows / linux(可以按宝塔面板-一键安装软件)")])]),t._v(" "),s("li",[s("p",[t._v("想办法把代码 传到云服务器上 (win: 百度网盘/gitee , linux 有宝塔面板网页一键上传)")])]),t._v(" "),s("li",[s("p",[t._v("线上的云服务器, 开启一个web服务器 (node+express / nginx / apache / 等)")])]),t._v(" "),s("li",[s("p",[t._v("一定要关闭服务器的防火墙(在哪个网站买的,  来到管理页面, 放行端口)")])]),t._v(" "),s("li",[s("p",[t._v("访问ip+端口和路径即可打开线上服务器的这个网站使用了")])])]),t._v(" "),s("h3",{attrs:{id:"小结-12"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-12"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("租一台云服务器 / 公司自己服务器(需要公网ip能访问 - 如果不能还要研究如何得到一个固定的ip)")]),t._v(" "),s("li",[t._v("把web服务部署到服务器上")]),t._v(" "),s("li",[t._v("访问服务器ip:web服务端口/路径, 打开对应页面访问")])]),t._v(" "),s("h3",{attrs:{id:"扩展-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#扩展-2"}},[t._v("#")]),t._v(" 扩展")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("只有ip不行, 如何得到一个域名呢?")]),t._v(" "),s("blockquote",[s("p",[t._v("可以看这个文档: https://help.aliyun.com/product/35473.html?spm=5176.21213303.J_6028563670.7.d5653edanjoH7j&scm=20140722.S_help%40%40%E4%BA%A7%E5%93%81%E9%A1%B5%40%4035473.S_hot.ID_35473-RL_%E5%9F%9F%E5%90%8D-OR_s%2Bhelpmain-V_1-P0_0")])])]),t._v(" "),s("li",[s("p",[t._v("寻找和购买域名(付款) https://wanwang.aliyun.com/domain/?spm=a2c4g.11174283.2.2.46f34c07iCNNPy")])]),t._v(" "),s("li",[s("p",[t._v("域名解析到自己的服务器ip地址上")])]),t._v(" "),s("li",[s("p",[t._v("域名需要备案(注意: 第一次可能需要很多天, 所以请在部署项目之前尽早购买)")])]),t._v(" "),s("li",[s("p",[t._v("以后输入域名跟输入ip一样可以访问你服务器项目了")])])]),t._v(" "),s("blockquote",[s("p",[t._v("这里暂时没有域名, 无法演示")])]),t._v(" "),s("h2",{attrs:{id:"_13-项目打包app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-项目打包app"}},[t._v("#")]),t._v(" 13.项目打包App")]),t._v(" "),s("h3",{attrs:{id:"目标-13"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-13"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("ul",[s("li",[t._v("为何要打包APP")]),t._v(" "),s("li",[t._v("APP分为哪几种类型")])]),t._v(" "),s("h3",{attrs:{id:"分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分类"}},[t._v("#")]),t._v(" 分类")]),t._v(" "),s("p",[t._v("App有三大类型")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("原生的App。手机有两大操作系统：苹果，安卓")]),t._v(" "),s("blockquote",[s("p",[t._v("还有 windows Phone, 鸿蒙")])]),t._v(" "),s("p",[t._v("ios,安卓程序员 用各自的编程语言写的代码，只能在某一个平台上运行。分安卓版本和ios版本。")]),t._v(" "),s("ul",[s("li",[t._v("优点：用户体验好 ；可以调用系统API（拍照，读内存...）。")]),t._v(" "),s("li",[t._v("缺点：费钱。(大公司一般会雇佣4端程序员)")])])]),t._v(" "),s("li",[s("p",[t._v("纯h5网站。就是一个移动站（https://m.jd.com/）")]),t._v(" "),s("ul",[s("li",[t._v("优点：省钱。就是网页。")]),t._v(" "),s("li",[t._v("缺点：不能调用系统API；没有统一的入口，用户不知道从哪里进来，都要通过浏览器才能访问；")])])]),t._v(" "),s("li",[s("p",[t._v("混合开发。")]),t._v(" "),s("ul",[s("li",[t._v("先做一个网站，在网站之外套个原生的壳！能同时具备原生的优点和纯h5网站的优点。")]),t._v(" "),s("li",[s("strong",[t._v("在原生的App嵌入h5 页")])])])])]),t._v(" "),s("h3",{attrs:{id:"hbuilder开发版"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hbuilder开发版"}},[t._v("#")]),t._v(" HBuilder开发版")]),t._v(" "),s("p",[t._v("我们需要借助他, 帮助我们打包一个App")]),t._v(" "),s("p",[t._v("下载安装, 注册激活， 如果不注册激活，就不能使用它的打包功能")]),t._v(" "),s("p",[t._v("下载地址: https://www.dcloud.io/hbuilderx.html  (下载App开发版)")]),t._v(" "),s("blockquote",[s("p",[t._v("先走流程, 提示你注册再注册和激活就行了")])]),t._v(" "),s("p",[t._v("==必须注册==")]),t._v(" "),s("p",[t._v("==必须激活邮箱==")]),t._v(" "),s("p",[t._v("==必须绑定手机号==")]),t._v(" "),s("h3",{attrs:{id:"创建5-app项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建5-app项目"}},[t._v("#")]),t._v(" 创建5+App项目")]),t._v(" "),s("p",[t._v("我们要选择5+App 项目,mui也是一套前端框架，可以选择一个mui项目。")]),t._v(" "),s("ul",[s("li",[t._v("普通项目。 普通H5项目, Hbuilder内置了几套模板,作用不大,同学们基本都会自己创建")]),t._v(" "),s("li",[t._v("uni-app。多端应用,一套代码,复用八端,时下最火的一个跨端框架")]),t._v(" "),s("li",[t._v("wap2App。wap项目转 App , 原来只运在手机上的wap(无线网络协议,诺基亚,爱立信时代)项目 可转app项目")]),t._v(" "),s("li",[s("strong",[t._v("5+ App")]),t._v("。利用DCloud 的 **"),s("code",[t._v("5+ Runtime")]),t._v("**来做原生能力提供者的 项目")]),t._v(" "),s("li",[t._v("小程序。微信原生小程序的另外一个编辑器,比微信提供的开发者工具好用,但是现在谁还在用原生写小程序呢?")]),t._v(" "),s("li",[t._v("快应用 。原生快应用编辑器 , 较为冷门的生态, 目前不太热闹")])]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713123408613.png",alt:"image-20210713123408613"}})]),t._v(" "),s("h3",{attrs:{id:"准备打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备打包"}},[t._v("#")]),t._v(" 准备打包")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("把我们vue项目打包好的dist下的一切复制到你刚才的项目-覆盖过来即可 (一定要保留manifest.json文件)")]),t._v(" "),s("blockquote",[s("p",[t._v("mainfest.json是打包配置文件")])]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713123507255.png",alt:"image-20210713123507255"}})])]),t._v(" "),s("li",[s("p",[t._v("生成APPID")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210407171848581.png",alt:"image-20210407171848581"}})])]),t._v(" "),s("li",[s("p",[t._v("去掉通信录权限 (因为我的HBuilder没有身份证认证, 打包不让获取用户通讯录)")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713123617291.png",alt:"image-20210713123617291"}})])]),t._v(" "),s("li",[s("p",[t._v("(可选), 如果上面不小心选择No了, 可以去源码处选择 - 删除")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210407172901485.png",alt:"image-20210407172901485"}})])])]),t._v(" "),s("h3",{attrs:{id:"云打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#云打包"}},[t._v("#")]),t._v(" 云打包")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210407171554818.png",alt:"image-20210407171554818"}})]),t._v(" "),s("p",[t._v("如果一切正常，你将会在控制台中看到类似如下的结果：")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713124012775.png",alt:"image-20210713124012775"}})]),t._v(" "),s("p",[t._v("这就是云打包成功了, 下面会出现apk下载的所在文件夹")]),t._v(" "),s("h3",{attrs:{id:"运行-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行-2"}},[t._v("#")]),t._v(" 运行")]),t._v(" "),s("p",[t._v("把打包好的apk包, 发到安卓手机上 / 电脑模拟器(推荐<夜神模拟器>) 运行即可")]),t._v(" "),s("p",[s("img",{attrs:{src:"images/image-20210713142429079.png",alt:"image-20210713142429079"}})]),t._v(" "),s("h3",{attrs:{id:"ios问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ios问题"}},[t._v("#")]),t._v(" iOS问题")]),t._v(" "),s("p",[t._v("打包ios - 需要申请开发者账号(一年600元人民币): 以后打包的过程参考这个: https://blog.csdn.net/qq_34440345/article/details/99711586")]),t._v(" "),s("p",[t._v("也可以手机给电脑开热点 / 只要连接在同一个wifi下, 手机浏览器访问webpack开发服务器局域网ip地址即可")]),t._v(" "),s("h3",{attrs:{id:"小结-13"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-13"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ol",[s("li",[t._v("借助Hbuilder软件, 打包apk包使用")])])])}),[],!1,null,null,null);s.default=e.exports}}]);